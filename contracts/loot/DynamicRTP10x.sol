// SPDX-License-Identifier: MIT
pragma solidity ^0.8.24;

import { LootTable } from "./LootTable.sol";

/// @title DynamicRTP10x
/// @notice A loot table with 33 entries, starting at 1.01x and ending at 10x, more punishing to lower multipliers, curves up to a flat RTP of 0.97 at 2x onwards.
contract DynamicRTP10x is LootTable {
    function _getLength() internal pure override returns (uint256) {
        return 33;
    }

    function _multiplier(uint256 _index) internal pure override returns (uint256) {
        return
            [
                1010000,
                1050000,
                1100000,
                1150000,
                1200000,
                1250000,
                1300000,
                1400000,
                1500000,
                1650000,
                1800000,
                2000000,
                2200000,
                2400000,
                2600000,
                2800000,
                3000000,
                3250000,
                3500000,
                3750000,
                4000000,
                4500000,
                5000000,
                5500000,
                6000000,
                6500000,
                7000000,
                7500000,
                8000000,
                8500000,
                9000000,
                9500000,
                10000000
            ][_index];
    }

    function _probability(uint256 _index) internal pure override returns (uint256) {
        return
            [
                158415841584158430, // ev: 0.85
                15462184873949612, // ev: 0.87
                23510971786833800, // ev: 0.89
                21983390327308132, // ev: 0.91
                31135531135531184, // ev: 0.92
                29565217391304420, // ev: 0.93
                28122415219189424, // ev: 0.94
                61550151975683830, // ev: 0.95
                61754385964912420, // ev: 0.955
                86149452641599180, // ev: 0.96
                78559027777777760, // ev: 0.965
                95336787564766830, // ev: 0.97
                90909090909090860, // ev: 0.97
                83333333333333330, // ev: 0.97
                76923076923076930, // ev: 0.97
                71428571428571464, // ev: 0.97
                66666666666666870, // ev: 0.97
                76923076923076740, // ev: 0.97
                71428571428571400, // ev: 0.97
                66666666666666870, // ev: 0.97
                62500000000000000, // ev: 0.97
                111111111111111100, // ev: 0.97
                100000000000000000, // ev: 0.97
                90909090909090540, // ev: 0.97
                83333333333333700, // ev: 0.97
                76923076923076400, // ev: 0.97
                71428571428571740, // ev: 0.97
                66666666666666870, // ev: 0.97
                62500000000000000, // ev: 0.97
                58823529411764330, // ev: 0.97
                55555555555555940, // ev: 0.97
                52631578947368530, // ev: 0.97
                49999999999999890 // ev: 0.97
            ][_index];
    }
}
